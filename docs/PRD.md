아래는 새로운 요구사항을 반영한 (대학원 연구실 검색 사이트 KRrankings) PRD 초안입니다.

# 대학원 연구실 검색 사이트 KRrankings 제품 요구사항 문서(PRD)

---

## 1. 프로젝트 개요

### 1.1 목적

- **KRrankings**는 국내외 대학의 연구 분야별 연구실(랩) 정보를 간단하고 직관적으로 보여주는 서비스입니다.
- 주요 목적은 사용자가 특정 연구 분야를 선택하면, 논문 개수를 기준으로 대학 순위와 각 대학의 연구실 목록(추후 확장)을 빠르게 확인할 수 있도록 하는 것입니다.

### 1.2 목표

- **MVP(Minimum Viable Product)** 단계에서는 최대한 단순한 사용자 인터페이스를 제공하고, 핵심 기능(연구 분야 선택 및 순위 조회)을 우선적으로 구현합니다.
- 이후 단계에서 대학별 연구실 목록, 클릭 시 해당 연구실 사이트로 이동하는 기능 등을 점진적으로 확장해 나갈 예정입니다.

---

## 2. 유저 플로우

1. **메인 페이지 진입**

   - 사용자는 사이트에 접속하면 좌측에 연구 분야(예: AI, Systems)와 세부 분야(예: Databases, Machine Learning 등) 목록이 표시되고, 우측에는 초기 안내 메시지 혹은 기본 화면이 제공됩니다.

2. **연구 분야(세부 분야) 선택**

   - 예: **AI** / **Systems**
   - 하위 카테고리 예시
     - **AI**: Artificial intelligence, Computer vision, Machine learning, Natural language processing, The Web & information retrieval
     - **Systems**: Computer architecture, Computer networks, Computer security, Databases

3. **대학 순위 확인**

   - 사용자가 (예: Systems → Databases)와 같이 특정 세부 분야를 선택하면, 우측 화면에 해당 분야 연구실의 논문 개수 순으로 정렬된 **대학 리스트**를 표시합니다.
   - 대학 이름, 해당 분야의 총 논문 개수, 주요 대표 연구실 수 등을 간략히 보여줍니다.

4. **대학 선택 시**
   - 대학을 클릭하면, 그 대학에 속한 **연구실 목록**(논문 개수 순 내림차순 정렬)이 표시됩니다.
   - 사용자는 연구실을 다시 클릭해 **연구실 공식 사이트**로 이동할 수 있습니다.

---

## 3. 핵심 기능

1. **연구 분야 및 세부 분야 선택 UI**

   - 좌측 사이드바에 AI/Systems 등 상위 카테고리와 세부 분야를 트리 구조로 표시
   - 사용자가 특정 세부 분야 클릭 시 해당 데이터 호출

2. **논문 개수 기반 대학 순위 표시**

   - 우측 메인 뷰에서 선택된 세부 분야의 **대학 리스트**를 논문 개수(내림차순) 기준으로 간단히 표시
   - 논문 개수만으로 랭킹을 매기므로 별도 알고리즘은 필요 없음

3. **데이터 연동**

   - 추후 크롤링을 통해 적재된 데이터를 PostgreSQL에서 불러와 화면에 표시
   - 현재 MVP에서는 Mock 데이터 혹은 샘플 데이터를 사용 가능

4. **UI/UX 단순화**
   - ShadCN UI 및 TailwindCSS를 이용해 일관되고 깔끔한 디자인 유지
   - 불필요한 페이지나 복잡한 상호작용 최소화

---

## 4. 기술 스택

1. **Next.js (App Router)**

   - 서버 사이드 렌더링(SSR)과 클라이언트 사이드 렌더링(CSR)을 유연하게 혼합하여 사용
   - 페이지/라우팅 구조 효율화

2. **ShadCN**

   - TailwindCSS 기반의 재사용 가능한 UI 컴포넌트 라이브러리
   - 일관된 디자인 시스템 구축

3. **TailwindCSS**

   - 반응형 디자인, 빠른 스타일링

4. **PostgreSQL**

   - 최종적으로 논문 수 등 데이터를 크롤링 후 적재해 사용할 데이터베이스
   - MVP 단계에선 Mock 데이터로 시작 가능

5. **기타 라이브러리**
   - **Prisma** 또는 **TypeORM** (선택): DB 연동을 위한 ORM
   - **React Query** (선택): 데이터 Fetching/캐싱이 많아질 경우 고려
   - **Vercel**: 배포 및 호스팅
   - **NextAuth.js**: 사용자 인증 및 관리 (이메일, 카카오톡 OAuth)
   - **LangChain**: RAG 기반 챗봇 구현
   - **OpenAI API**: 챗봇 LLM 모델

_(~~로그인, 인증 등은 필요 없는 서비스이므로 별도 Auth 라이브러리는 고려하지 않음.~~)_

---

## 5. MVP 기능 개발 이후 추가 개선사항

1. **사용자 인증 시스템**
   - NextAuth.js를 활용한 소셜 로그인(이메일, 카카오톡) 지원
   - 이메일/비밀번호 기반 회원가입
   - 사용자 프로필 관리

2. **즐겨찾기 기능**
   - 로그인한 사용자에 한해 관심있는 연구실 즐겨찾기 가능
   - 즐겨찾기한 연구실 모아보기 기능
   - 즐겨찾기 연구실 태그 분류 기능

3. **AI 챗봇 도우미**
   - RAG(Retrieval Augmented Generation) 기반 연구실 정보 제공
   - 사용자의 관심 분야에 맞는 연구실 추천
   - 연구실 정보에 대한 자연어 질의응답
   - 챗봇 대화 히스토리 저장 (로그인 사용자 한정)

4. **대학별 연구실 목록 연결**

   - 대학을 클릭하면, 연구실 목록(논문 개수 순 정렬)을 보여주고, 각 연구실 명 클릭 시 연구실 사이트로 이동

5. **검색 및 필터 기능 고도화**

   - 현재는 분야별 단순 조회만 제공하나, 향후 키워드 검색, 학교 이름 검색 등 추가 가능

6. **데이터 시각화**

   - 그래프나 차트를 통한 논문 수 추이, 연구 분야 비교 등

7. **해외 대학 확장**
   - 국내 대학에서 해외 대학으로 서비스 범위 확장

---

## 6. 인증 시스템 상세

### 6.1 사용자 역할
- **비로그인 사용자**: 기본적인 연구실 검색 및 조회 가능
- **로그인 사용자**: 즐겨찾기, 챗봇 대화 히스토리 저장 등 추가 기능 사용 가능

### 6.2 인증 플로우
1. 소셜 로그인 (이메일, 카카오톡)
   - OAuth 2.0 기반 인증
   - 최소한의 사용자 정보만 수집
     - 이메일 로그인: 이메일, 이름
     - 카카오톡 로그인: 카카오 계정 이메일, 닉네임

2. 이메일/비밀번호 로그인
   - 이메일 인증 필수
   - 비밀번호 보안 정책 적용

---

## 7. AI 챗봇 시스템 상세

### 7.1 주요 기능
- 연구실 정보 질의응답
- 연구 분야별 맞춤 추천
- 연구실 비교 분석
- 최신 연구 동향 정보 제공

### 7.2 기술 구현
- **RAG 파이프라인**
  - 문서 임베딩: 연구실 정보 벡터화
  - 검색 시스템: 관련 정보 효율적 검색
  - LLM 통합: OpenAI API 활용

### 7.3 데이터 관리
- 연구실 정보 정기 업데이트
- 사용자 피드백 기반 응답 품질 개선
- 개인화된 대화 컨텍스트 유지
